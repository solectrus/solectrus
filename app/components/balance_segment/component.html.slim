= link_to url,
          id: "segment-#{field}",
          class: [ 'leading-none flex flex-wrap gap-x-5 items-center justify-around text-center px-2 sm:px-4 overflow-hidden transition-[font-size,height] duration-[1000ms]', color_class ],
          style: 'height: var(--segment-height); font-size: var(--segment-font-size)',
          data: { controller: ('tippy' unless big?), tippy_placement_value: (parent.side == :left ? 'right' : 'left') } do

  css:
    #segment-#{field} {
      --segment-font-size: #{font_size(max: 90)}%;
      --segment-height: #{percent}%;
    }

    @media (min-width: 640px) {
      #segment-#{field} {
        --segment-font-size: #{font_size(max: 140)}%;
      }
    }

  div class= "flex gap-2 lg:gap-3 #{'flex-col' if big?} items-center"
    i.fa class= icon_class style="font-size: #{icon_size}%;"

    .font-extralight.uppercase.tracking-wider.leading-tight class= (big? ? 'lg:block' : 'hidden')
      = t("senec.#{field}")

    div data= { 'refresh-target': 'current', field: field, value: masked_value }
      = Number::Component.new(value:).public_send(now? ? :to_w : :to_wh) if value > 50

    template data-tippy-target="html"
      .flex.flex-col.items-center.justify-center
        i.fa class= icon_class
        = I18n.t("senec.#{field}")
        br
        - if now?
          = Number::Component.new(value:).to_w max_precision: 3
        - else
          = Number::Component.new(value:).to_wh max_precision: 3
