div
  div class= 'flex-1 flex h-full' id= "stats-#{timeframe.id}"
    = render BalanceSide::Component.new side: :left,
                                        calculator:,
                                        timeframe:,
                                        sensor: do |balance|
      ruby:
        balance.with_segment :grid_power_import, peak&.dig(:grid_power_import)
        balance.with_segment :inverter_power, peak&.dig(:inverter_power)
        balance.with_segment :battery_discharging_power, peak&.dig(:battery_discharging_power)

    div class= 'flex flex-col px-2 sm:px-4 gap-4 pb-8'
      = center

    = render BalanceSide::Component.new side: :right,
                                        calculator:,
                                        timeframe:,
                                        sensor: do |balance|
      ruby:
        balance.with_segment :wallbox_power, peak&.dig(:wallbox_power)
        balance.with_segment :heatpump_power, peak&.dig(:heatpump_power)
        balance.with_segment :house_power, peak&.dig(:house_power)
        balance.with_segment :grid_power_export, peak&.dig(:grid_power_power_minus)
        balance.with_segment :battery_charging_power, peak&.dig(:battery_charging_power)
